<html>
<head>
	<script src="js/jquery.min.js" ></script>
	<script src="js/Chart.min.js" ></script>
	<script src="js/gerken.storm.monitor.js" ></script>
	
	<script type="text/javascript">
 
 		var metricsSourceURL = "http://localhost:8085/";
 	
 		// Default Storm monitoring provides one metrics group ("Backlog") which has a metric for each stream in the topology.
 		
 		var monitorConfig = {
 			title: "Storm Topology Monitor" ,
 			widgets: [
 				{ title: "Stream Backlogs", 	id: "backlogs", 		kind: "hist",   	x: 10,  y: 30,  width: 1150, height: 250, metricGroup: "Backlog" } ,
 				{ title: "Backlogs SoV",		id: "BlogsSOV", 		kind: "metricsov", 	x: 1200, y: 30, width:  250, height: 250, metricGroup: "Backlog"} ,

<c:setVariable select=" 10 " var="x" />
<c:iterate select="$topology/bolt/reads" var="reads">
 				{ title: "<c:get select="$reads/@stream" />",			id: "Backlog<c:get select="$reads/@stream" />", 		kind: "tasksov", x: <c:get select="$x"/>, y: 630, width:  300, height: 250, metricGroup: "Backlog", metric: "<c:get select="$reads/@stream" />" } ,
<c:setVariable select=" 310 + $x " var="x" />
</c:iterate>

 				{ title: "Streams", 			id: "legend", 			kind: "legend", 	x: 10, 		y: 330, width:  500, height: 250, metricGroup: "Backlog" } ,
 				{ title: "Hotspots", 		    id: "hotspots", 	    kind: "hotspot",  	x: 510,  	y: 330, width: 	570, height: 600  } 
 				]
 		};
 
 		$( document ).ready(function() { monitorStorm(); });		

	</script>
</head>
<body>
<div id="storm-monitor" height="1000" width="1500"></div>
</body>
</html>
