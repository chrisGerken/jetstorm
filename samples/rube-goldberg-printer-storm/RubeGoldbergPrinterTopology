digraph G { 
node [style=filled, fillcolor=plum1 ,shape=rectangle, fontsize=20, color=black];
edge [fontsize=10, color=blue4, fontcolor=blue4];

Legalese [style=filled, fillcolor=floralwhite ,fontsize=20,color=black,label="{Rube Goldberg Printer|(c) 2013 Rube}", shape=record];

Messages [style=filled, fillcolor=mintcream ,fontsize=12,color=black,label="{Stream: Messages|{Message|{messageText|count}}}", shape=record];
Anonymous [style=filled, fillcolor=mintcream ,fontsize=12,color=black,label="{Stream: Anonymous|{AnonymizedMessage|{text|id}}}", shape=record];
Totals [style=filled, fillcolor=mintcream ,fontsize=12,color=black,label="{Stream: Totals|{ExpectedCount|{id|totalSent}}}", shape=record];
MessageReferences [style=filled, fillcolor=mintcream ,fontsize=12,color=black,label="{Stream: MessageReferences|{MessageReference|{id}}}", shape=record];
Approvals [style=filled, fillcolor=mintcream ,fontsize=12,color=black,label="{Stream: Approvals|{MessageReference|{id}}}", shape=record];
"Message Provider (1)"  [shape=invhouse] ;
"Message Anonymizer (1)"  [shape=ellipse, fillcolor=palegoldenrod] ;
"Message Repeater (1)"  [shape=ellipse, fillcolor=palegoldenrod] ;
"Reference Counter (1)"  [shape=ellipse, fillcolor=palegoldenrod] ;
"Message Printer (1)"  [shape=ellipse, fillcolor=palegoldenrod] ;

"Message Provider (1)" -> Messages  [penwidth=10];
"Message Anonymizer (1)" -> Anonymous  [penwidth=10];
"Message Anonymizer (1)" -> Totals  [penwidth=10];
"Message Repeater (1)" -> MessageReferences  [penwidth=10];
"Reference Counter (1)" -> Approvals  [penwidth=10];

Messages -> "Message Anonymizer (1)"  [penwidth=8, label="    grouping: shuffle"];
Totals -> "Message Repeater (1)"  [penwidth=8, label="    grouping: shuffle"];
MessageReferences -> "Reference Counter (1)"  [penwidth=8, label="    grouping: fields(id)"];
Totals -> "Reference Counter (1)"  [penwidth=8, label="    grouping: fields(id)"];
Approvals -> "Message Printer (1)"  [penwidth=8, label="    grouping: shuffle"];

Legalese -> "Message Provider (1)" [style=invis, len=30]

}




